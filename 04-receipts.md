# Receipts

This document defines the structure, semantics, and constraints of **receipts** in the ForgeRun protocol.

A receipt is a cryptographic or verifiable record asserting that a specific **commitment was observed, included, or verified** by a system or third party.

Receipts do **not** assert correctness, approval, or interpretation.

---

## Definition

A **receipt** is an assertion that:

- A specific commitment exists
- The commitment was observed or processed
- The observation occurred at or after a specific point in time

Receipts MAY be generated by:

- The ForgeRun operator
- Independent verifiers
- External systems
- Auditors or observers

---

## Receipt Invariants

All valid receipts MUST satisfy the following invariants:

1. **Reference Integrity**  
   Every receipt MUST reference a valid commitment identifier.

2. **Non-Authoritativeness**  
   A receipt does not confer validity, correctness, or compliance.

3. **Independent Verifiability**  
   The receipt can be verified without trusting the issuer.

4. **Immutability**  
   Once issued, a receipt MUST NOT be altered.

---

## Receipt Structure (Logical)

A receipt logically consists of:

- `receipt_id` — content-derived identifier
- `commitment_id` — referenced commitment
- `observer_id` — identifier of the observing system
- `observation_type` — inclusion, verification, mirroring, etc.
- `timestamp` — time or order of observation
- `metadata` (optional) — structured, non-normative context

This specification does **not** mandate a specific format or signature scheme.

---

## Receipt Semantics

Receipts assert **observation only**.

They do **not** assert:

- Approval
- Accuracy
- Compliance
- Endorsement
- Legal or ethical judgment

Multiple receipts MAY exist for the same commitment, issued by different observers.

---

## Failure Modes

A receipt MAY be considered invalid if:

- The referenced commitment cannot be resolved
- The receipt integrity check fails
- The observer identity is malformed
- The receipt violates a stated invariant

Invalid receipts MUST remain observable.

---

## Relationship to Verification

Receipts are **inputs** to verification, not verification themselves.

Verification logic is defined in `05-verification.md`.

---

## Non-Goals

This document intentionally excludes:

- Trust frameworks
- Authority hierarchies
- Dispute resolution
- Compliance certification
- Scoring or ranking mechanisms

---

## Status

This document is **normative**.

Any system claiming ForgeRun compatibility MUST respect the receipt semantics defined herein.
